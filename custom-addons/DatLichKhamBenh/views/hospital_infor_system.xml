<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--===== Configuration =====  -->
    <!-- Hospital -->
    <record id="morden_action_medical_specialty_hospital" model="ir.actions.act_window">
        <field name="name">Danh sách khoa</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.khoa</field>
        <field name="domain">[('trung_tam_suc_khoe_id', '=', active_id)]</field>
    </record>
    <record id="morden_action_medical_clinic_hospital" model="ir.actions.act_window">
        <field name="name">Danh sách phòng</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.phong</field>
        <field name="domain">[('trung_tam_suc_khoe_id', '=', active_id)]</field>
    </record>
    <!-- Hospital form view-->
    <record id="medical_hospital_view_form" model="ir.ui.view">
        <field name="name">medical.hospital.form</field>
        <field name="model">medical.trung_tam_y_te</field>
        <field name="arch" type="xml">
            <form string="Trung tâm y tế">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button type="action" class="oe_stat_button" name="%(DatLichKhamBenh.morden_action_medical_specialty_hospital)d" icon="fa-building-o">
                            <field string="Khoa" name="khoa_count" widget="statinfo" />
                        </button>
                        <button type="action" class="oe_stat_button" name="%(DatLichKhamBenh.morden_action_medical_clinic_hospital)d" icon="fa-building-o">
                            <field string="Phòng" name="phong_count_t" widget="statinfo" />
                        </button>
                    </div>
                    <field name="anh_dai_dien" nolabel="1" widget="image" class="oe_avatar" />
                    <div class="oe_title">
                        <label for="name" />
                        <h1>
                            <field name="name" required="1" />
                        </h1>
                        <div class="o_row">
                            <field name="parent_id" placeholder="Cha" />
                            <label for="is_headquarter" />
                            <field name="is_headquarter" readonly="1" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <label for="dia_chi" string="Địa chỉ" />
                            <div>
                                <field name="dia_chi" placeholder="Street..." on_change="1" field_id="street_0" />
                                <field name="dia_chi_2" on_change="1" field_id="street2_0" />
                                <field name="country_id_new" placeholder="Quốc gia" class="oe_no_button" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" on_change="1" can_create="True" can_write="True" field_id="country_id_0" />
                                <div class="address_format">
                                    <field name="state_id_new" class="oe_no_button" placeholder="Tỉnh/Thành phố " required='country_id_new != False' style="width: 37%" options="{&quot;no_open&quot;: True}" on_change="onchange_state(state_id)" can_create="True" can_write="True" field_id="state_id_0" />
                                    <field name="thanh_pho" placeholder="Thành phố" style="width: 40%" field_id="city_0" />
                                    <field name="zip" placeholder="Mã bưu điện" style="width: 20%" field_id="zip_0" />
                                </div>
                            </div>
                            <field name="website_link" widget="url" placeholder="e.g. www.odoo.com" field_id="website_0" />
                        </group>
                        <group>
                            <field name="so_dien_thoai" placeholder="e.g. +84 012345678" on_change="1" field_id="phone_0" />
                            <field name="email" widget="email" on_change="1" field_id="email_0" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Thông tin bổ sung">
                            <div class="o_row">
                                <field name="thong_tin_bo_sung" />
                            </div>
                        </page>
                        <page string="Kho hàng">

                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Search Hospital -->
    <record id="hospital_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm trung tâm y tế</field>
        <field name="model">medical.trung_tam_y_te</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <filter string="Tên" name="country_filter" />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên" name="group_by_name" context="{'group_by': 'name'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Hospital kanban view-->
    <record id="medical_hospital_kanban_view" model="ir.ui.view">
        <field name="name">medical.hospital.kanban</field>
        <field name="model">medical.trung_tam_y_te</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name" />
                <field name="anh_dai_dien" />
                <field name="country_id_new" />
                <field name="thanh_pho" />
                <field name="email" />
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click oe_kanban_card">
                            <div class="oeh_medical_vignette oe_semantic_html_override">
                                <div class="o_kanban_image" style="margin-top:15px;">
                                    <a type="open">
                                        <img widget="image" heigh="100" width="100" t-att-alt="record.id.value" t-att-src="kanban_image('medical.trung_tam_y_te', 'anh_dai_dien', record.id.raw_value)" />
                                    </a>
                                </div>
                                <div class="oe_kanban_details">
                                    <h4>
                                        <a type="open">
                                            <field name="name" />
                                        </a>
                                    </h4>
                                    <ul>
                                        <li>
                                            <field name="thanh_pho" />
 ,                                            <field name="country_id_new" />
                                        </li>
                                        <li>
                                            <field name="email" />
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <!-- Hospital tree view-->
    <record id="medical_hospital_tree_view" model="ir.ui.view">
        <field name="name">medical.hospital.tree</field>
        <field name="model">medical.trung_tam_y_te</field>
        <field name="arch" type="xml">
            <tree string="Thông tin bệnh nhân">
                <field name="name" />
                <field name="dia_chi" string="Đường" />
                <field name="thanh_pho" />
                <field name="state_id_new" />
                <field name="country_id_new" />
                <field name="website_link" />
            </tree>
        </field>
    </record>
    <!-- Hospital action-->
    <record id="medical_hospital_action" model="ir.actions.act_window">
        <field name="name">Trung tâm y tế</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.trung_tam_y_te</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>


    <record id="morden_action_medical_clinic" model="ir.actions.act_window">
        <field name="name">Danh sách Phòng</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.phong</field>
        <field name="domain">[('khoa_id', '=', active_id)]</field>
    </record>
    <!-- Medical Specialty form view-->
    <record id="medical_specialty_view_form" model="ir.ui.view">
        <field name="name">medical.specialty.form</field>
        <field name="model">medical.khoa</field>
        <field name="arch" type="xml">
            <form string="Khoa">
                <header>
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button type="action" class="oe_stat_button" name="%(DatLichKhamBenh.morden_action_medical_clinic)d" icon="fa-list-ul">
                            <field string="Phòng" name="phong_count" widget="statinfo" />
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="name" />
                        <h1>
                            <field name="name" required="1" colspan="3" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="trung_tam_suc_khoe_id" options="{'no_create': True}" required="1" />
                            <field name="so_tang" default="0" />
                            <field name="loai" />
                        </group>
                        <group>
                        </group>
                    </group>
                    <separator string="Cơ sở vật chất" colspan="4" />
                    <group>
                        <group>
                            <field name="truy_cap_dien_thoai" />
                            <field name="phong_tam_rieng" />
                            <field name="ti_vi" />
                            <field name="tu_lanh" />
                        </group>
                        <group>
                            <field name="dieu_hoa_khong_khi" />
                            <field name="giuong_sofa_cho_khach" />
                            <field name="truy_cap_internet" />
                            <field name="lo_vi_song" />
                        </group>
                    </group>
                    <separator string="Thông tin bổ sung" colspan="4" />
                    <div class="o_row">
                        <field name="thong_tin_bo_sung" />
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Medical Specialty search view -->
    <record id="specialty_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm khoa</field>
        <field name="model">medical.khoa</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <filter string="Tên" name="country_filter" />
                <filter string="Yêu thích" name="favorite_filter" domain="[('yeu_thich','=',True)]"/>
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên" name="group_by_name" context="{'group_by': 'name'}" />
                    <filter string="Trung tâm y tế" name="group_by_trung_tam_y_te" context="{'group_by': 'trung_tam_suc_khoe_id'}" />
                    <filter string="Số tầng" name="group_by_so_tang" context="{'group_by': 'so_tang'}" />
                    <filter string="Trạng thái" name="group_by_trang_thai" context="{'group_by': 'state'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Medical Specialty tree view-->
    <record id="medical_specialty_tree_view" model="ir.ui.view">
        <field name="name">medical.specialty.tree</field>
        <field name="model">medical.khoa</field>
        <field name="arch" type="xml">
            <tree string="Khoa">
                <field name="name" />
                <field name="trung_tam_suc_khoe_id" />
                <field name="so_tang" />
                <field name="loai" />
            </tree>
        </field>
    </record>
    <!-- Medical specialty action-->
    <record id="medical_specialty_action" model="ir.actions.act_window">
        <field name="name">Khoa</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.khoa</field>
        <field name="view_mode">tree,form</field>
    </record>


    <!-- Clinic form view-->
    <record id="medical_clinic_view_form" model="ir.ui.view">
        <field name="name">medical.clinic.form</field>
        <field name="model">medical.phong</field>
        <field name="arch" type="xml">
            <form string="Phòng">
                <header>
                    <button name="btn_trong" confirm='Bạn có muốn thay đổi trạng thái của phòng thành "Trống"?' string="Trống" type="object" class="oe_highlight" invisible="state == 'Trong'" />
                    <button name="btn_khong_co_san" string="Không có sẵn" confirm='Bạn có muốn thay đổi trạng thái của phòng thành "Không có sẵn"?' type="object" class="oe_highlight" invisible="state == 'KhongCoSan'" />
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <div class="oe_title">
                        <label for="name" />
                        <h1>
                            <field name="name" required="1" colspan="3" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="trung_tam_suc_khoe_id" required="1" />
                        </group>
                        <group>
                            <field name="khoa_id" required="1" />
                        </group>
                    </group>
                    <separator string="Thông tin bổ sung" colspan="4" />
                    <div class="o_row">
                        <field name="thong_tin_bo_sung" />
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Clinic Search view -->
    <record id="clinic_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm phòng</field>
        <field name="model">medical.phong</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên" name="group_by_name" context="{'group_by': 'name'}" />
                    <filter string="Trạng thái" name="group_by_trang_thai" context="{'group_by': 'state'}" />
                </group>
            </search>
        </field>
    </record>
    <record id="medical_clinic_tree_view" model="ir.ui.view">
        <field name="name">medical.clinic.tree</field>
        <field name="model">medical.phong</field>
        <field name="arch" type="xml">
            <tree string="Phòng">
                <field name="name" />
                <field name="trung_tam_suc_khoe_id" />
                <field name="khoa_id" />
                <field name="state" />
            </tree>
        </field>
    </record>
    <!-- Clinic action-->
    <record id="medical_clinic_action" model="ir.actions.act_window">
        <field name="name">Phòng</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.phong</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Pharmacies form view-->
    <record id="medical_pharmacies_view_form" model="ir.ui.view">
        <field name="name">medical.pharmacies.form</field>
        <field name="model">medical.hieu_thuoc</field>
        <field name="arch" type="xml">
            <form string="Hiệu thuốc">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <field name="anh_dai_dien" nolabel="1" widget="image" class="oe_avatar" />
                        <div class="oe_title">
                            <label for="name" />
                            <h1>
                                <field name="name" required="1" />
                            </h1>
                            <field name="trung_tam_suc_khoe_id" placeholder="Trung tâm y tế" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <label for="dia_chi" string="Địa chỉ" />
                            <div>
                                <field name="dia_chi" placeholder="Street..." on_change="1" field_id="street_0" />
                                <field name="dia_chi_2" on_change="1" field_id="street2_0" />
                                <field name="country_id_new" placeholder="Quốc gia" class="oe_no_button" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" on_change="1" can_create="True" can_write="True" field_id="country_id_0" />
                                <div class="address_format">
                                    <field name="state_id_new" class="oe_no_button" placeholder="Tỉnh/Thành phố " required='country_id_new != False' style="width: 37%" options="{&quot;no_open&quot;: True}" on_change="onchange_state(state_id)" can_create="True" can_write="True" field_id="state_id_0" />
                                    <field name="thanh_pho" placeholder="Thành phố" style="width: 40%" field_id="city_0" />
                                    <field name="zip" placeholder="Mã bưu điện" style="width: 20%" field_id="zip_0" />
                                </div>
                            </div>
                            <field name="website_link" widget="url" placeholder="e.g. www.odoo.com" field_id="website_0" />
                        </group>
                        <group>
                            <field name="so_dien_thoai" placeholder="e.g. +84 012345678" on_change="1" field_id="phone_0" />
                            <field name="email" widget="email" on_change="1" field_id="email_0" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Thông tin bổ sung">
                            <div class="o_row">
                                <field name="thong_tin_bo_sung" />
                            </div>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Pharmacies Search view -->
    <record id="pharmacies_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm hiệu thuốc</field>
        <field name="model">medical.hieu_thuoc</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên hiệu thuốc" name="group_by_name" context="{'group_by': 'name'}" />
                    <filter string="Trung tâm y tế" name="group_by_ttyt" context="{'group_by': 'trung_tam_suc_khoe_id'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Pharmacies kanban view-->
    <record id="medical_pharmacies_kanban_view" model="ir.ui.view">
        <field name="name">medical.pharmacies.kanban</field>
        <field name="model">medical.hieu_thuoc</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name" />
                <field name="trung_tam_suc_khoe_id" />
                <field name="country_id_new" />
                <field name="thanh_pho" />
                <field name="email" />
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click oe_kanban_card">
                            <div class="oeh_medical_vignette oe_semantic_html_override">
                                <div class="o_kanban_image" style="margin-top:15px;">
                                    <a type="open">
                                        <img widget="image" heigh="100" width="100" t-att-alt="record.id.value" t-att-src="kanban_image('medical.hieu_thuoc', 'anh_dai_dien', record.id.raw_value)" />
                                    </a>
                                </div>
                                <div class="oe_kanban_details">
                                    <h4>
                                        <a type="open">
                                            <field name="name" />
                                        </a>
                                    </h4>
                                    <ul>
                                        <li>
                                            <field name="thanh_pho" />
 ,                                            <field name="country_id_new" />
                                        </li>
                                        <li>
                                            <field name="email" />
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <!-- Pharmacies tree view -->
    <record id="medical_pharmacies_tree_view" model="ir.ui.view">
        <field name="name">medical.pharmacies.tree</field>
        <field name="model">medical.hieu_thuoc</field>
        <field name="arch" type="xml">
            <tree string="Hiệu thuốc">
                <field name="name" />
                <field name="trung_tam_suc_khoe_id" />
                <field name="dia_chi" />
                <field name="thanh_pho" />
                <field name="state_id_new" />
                <field name="country_id_new" />
                <field name="website_link" />
            </tree>
        </field>
    </record>
    <!--Ppharmacies action-->
    <record id="medical_pharmacies_action" model="ir.actions.act_window">
        <field name="name">Hiệu thuốc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.hieu_thuoc</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

    <!-- Speciality tree view -->
    <record id="medical_speciality_view_tree" model="ir.ui.view">
        <field name="name">medical.speciality.view.tree</field>
        <field name="model">medical.chuyen_mon</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="ma"></field>
            </tree>
        </field>
    </record>
    <record id="medical_speciality_action" model="ir.actions.act_window">
        <field name="name">Chuyên môn</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.chuyen_mon</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Degree tree view -->
    <record id="medical_degree_view_tree" model="ir.ui.view">
        <field name="name">medical.degree.view.tree</field>
        <field name="model">medical.trinhdo_bangcap</field>
        <field name="arch" type="xml">
            <tree string="Degrees" editable="top">
                <field name="name"></field>
                <field name="ho_va_ten"></field>
            </tree>
        </field>
    </record>
    <record id="medical_degree_action" model="ir.actions.act_window">
        <field name="name">Trình độ/Bằng cấp</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.trinhdo_bangcap</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Medicine, Vaccine form view-->
    <record id="medical_medicine_vaccin_view_form" model="ir.ui.view">
        <field name="name">medical.medicine_vaccin.form</field>
        <field name="model">medical.thuoc_vaccin</field>
        <field name="arch" type="xml">
            <form string="Medicines">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title" style="width: 390px;">
                            <label class="oe_edit_only" for="name" string="Tên thuốc" />
                            <h1>
                                <field name="name" class="oe_inline" />
                            </h1>
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="loai_thuoc" required="1" />
                            <field name="hieu_qua_dieu_tri" invisible="loai_thuoc  == 'Thuoc'" />
                            <field name="so_luong_hien_co" invisible="loai_thuoc  == 'Thuoc'" />
                        </group>
                        <group>
                            <field name="gia_ban" />
                            <field name="canh_bao_mang_thai" invisible="loai_thuoc  == 'Thuoc'" />
                        </group>
                    </group>
                    <group invisible="loai_thuoc  == 'Vaccine'">
                        <group>
                            <field name="mang_thai_va_cho_con_bu" />
                            <field name="thanh_phan" />
                            <field name="huong_dan_lieu_luong" />
                            <field name="phan_ung_bat_loi" />
                        </group>
                        <group>

                            <field name="chi_dinh" />
                            <field name="qua_lieu" />
                            <field name="dieu_kien_bao_quan" />
                            <field name="thong_tin_them" />
                        </group>
                    </group>
                    <group invisible="loai_thuoc == 'Thuoc'">
                        <field name="thong_tin_them" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Medicine, Vaccine search view -->
    <record id="thuoc_vaccinw_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm thuốc, vắc xin</field>
        <field name="model">medical.thuoc_vaccin</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <group expand="1" string="Nhóm theo">
                    <filter string="Loại thuốc" name="group_by_loai_thuoc" context="{'group_by': 'loai_thuoc'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Medicine, Vaccine tree view -->
    <record id="medical_medicine_vaccin_tree_view" model="ir.ui.view">
        <field name="name">medical.medicine_vaccine.tree</field>
        <field name="model">medical.thuoc_vaccin</field>
        <field name="arch" type="xml">
            <tree string="Thuốc, Vắc xin">
                <field name="name" />
                <field name="loai_thuoc" />
                <field name="gia_ban" />
                <field name="thong_tin_them" />
            </tree>
        </field>
    </record>
    <!-- Medicine, Vaccine action-->
    <record id="medical_medicine_vaccine_action" model="ir.actions.act_window">
        <field name="name">Thuốc, Vắc xin</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.thuoc_vaccin</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Dose units tree view -->
    <record id="medical_dose_units_view_tree" model="ir.ui.view">
        <field name="name">medical.dose_units.view.tree</field>
        <field name="model">medical.donvi_lieuthuoc</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="mo_ta"></field>
            </tree>
        </field>
    </record>
    <record id="medical_dose_units_action" model="ir.actions.act_window">
        <field name="name">Đơn vị liều thuốc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.donvi_lieuthuoc</field>
        <field name="view_mode">tree</field>
    </record>
    <!-- Medicines dosage tree view -->
    <record id="medical_medicines_dosage_view_tree" model="ir.ui.view">
        <field name="name">medical.medicines_dosage.view.tree</field>
        <field name="model">medical.lieu_thuoc</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="ma"></field>
                <field name="viet_tat"></field>
            </tree>
        </field>
    </record>
    <record id="medical_medicines_dosage_action" model="ir.actions.act_window">
        <field name="name">Liều thuốc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.lieu_thuoc</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Vaccine form view -->
    <record id="medical_vaccine_view_form" model="ir.ui.view">
        <field name="name">medical.vaccine.form</field>
        <field name="model">medical.vaccine</field>
        <field name="arch" type="xml">
            <form string="Vaccin">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title">
                            <label for="name" string="Vaccine" class="oe_edit_only" />
                            <h1>
                                <field name="name" />
                            </h1>
                            <label for="benh_nhan_id" class="oe_edit_only" />
                            <field name="benh_nhan_id" on_change="" required="1" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="lieu" />
                            <field name="ngay" />
                        </group>
                        <group>
                            <field name="bac_si_id" options="{'no_create': True}" />
                            <field name="trung_tam_y_te_id" options="{'no_create': True}" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Quan săt/Theo dõi">
                            <div class="o_row">
                                <field name="quan_sat_theo_doi" nolabel="1" />
                            </div>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- medical.vaccine tree view -->
    <record id="medical_vaccine_view_tree" model="ir.ui.view">
        <field name="name">medical.vaccine.view.tree</field>
        <field name="model">medical.vaccine</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"></field>
                <field name="benh_nhan_id"></field>
                <field name="lieu"></field>
                <field name="bac_si_id"></field>
                <field name="ngay"></field>
                <field name="trung_tam_y_te_id"></field>
            </tree>
        </field>
    </record>
    <!-- medical.vaccine action -->
    <record id="medical_vaccine_action" model="ir.actions.act_window">
        <field name="name">Vắc xin</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.vaccine</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('benh_nhan_id', '!=', '')]</field>
    </record>


    <!-- Lab units tree view -->
    <record id="medical_lab_units_view_tree" model="ir.ui.view">
        <field name="name">medical.lab_units.view.tree</field>
        <field name="model">medical.don_vi_xet_nghiem</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="ma"></field>
            </tree>
        </field>
    </record>
    <record id="medical_lab_units_action" model="ir.actions.act_window">
        <field name="name">Đơn vị xét nghiệm</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.don_vi_xet_nghiem</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Lab test types form view -->
    <record id="medical_lab_test_types_view_form" model="ir.ui.view">
        <field name="name">medical.lab_test_types.form</field>
        <field name="model">medical.loai_xet_nghiem</field>
        <field name="arch" type="xml">
            <form string="Loại xét nghiệm">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title" style="width: 390px;">
                            <label class="oe_edit_only" for="name" />
                            <h1>
                                <field name="name" class="oe_inline" />
                            </h1>
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="ma" required="1" />
                        </group>
                        <group>
                            <field name="phi_xet_nghiem" required="1" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Trường hợp xét nghiệm">
                            <div>
                                <field name="truong_hop_xet_nghiem_ids" nolabel="1" context="{'default_loai_xet_nghiem_id': active_id}">
                                    <tree string="Trường hợp xét nghiệm" editable="bottom">
                                        <field name="ma_thu_tu" required="1" />
                                        <field name="name" />
                                        <field name="pham_vi_binh_thuong" />
                                        <field name="don_vi" />
                                    </tree>
                                </field>
                            </div>
                        </page>
                        <page string="Thông tin thêm">
                            <group>
                                <field name="thong_tin_them" nolabel="1" />
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Lab test types tree view -->
    <record id="medical_lab_test_types_view_tree" model="ir.ui.view">
        <field name="name">medical.lab_test_types.view.tree</field>
        <field name="model">medical.loai_xet_nghiem</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"></field>
                <field name="ma"></field>
                <field name="phi_xet_nghiem"></field>
            </tree>
        </field>
    </record>
    <record id="medical_lab_test_types_action" model="ir.actions.act_window">
        <field name="name">Loại xét nghiệm</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.loai_xet_nghiem</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Imaging test types tree view -->
    <record id="medical_diagnostic_imaging_types_view_tree" model="ir.ui.view">
        <field name="name">medical.diagnostic_imaging_types.view.tree</field>
        <field name="model">medical.loai_chan_doan_hinh_anh</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"></field>
                <field name="ma"></field>
                <field name="phi_xet_nghiem"></field>
            </tree>
        </field>
    </record>
    <record id="medical_diagnostic_imaging_types_action" model="ir.actions.act_window">
        <field name="name">Loại chẩn đoán hình ảnh</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.loai_chan_doan_hinh_anh</field>
        <field name="view_mode">tree,form</field>
    </record>


    <!-- diagnostic imaging form view -->
    <record id="medical_diagnostic_imaging_view_form" model="ir.ui.view">
        <field name="name">medical.diagnostic_imaging.form</field>
        <field name="model">medical.chan_doan_hinh_anh</field>
        <field name="arch" type="xml">
            <form string="Chẩn đoán hình ảnh">
                <header>
                    <button confirm="Bạn có muốn tạo hóa đơn?" name="btn_tao_hoa_don_chan_doan" string="Tạo hoá đơn" type="object" class="oe_highlight" />
                    <button confirm="Bạn có muốn bắt đầu chẩn đoán?" name="btn_bat_dau_chan_doan" string="Bắt đầu" type="object" class="oe_highlight" />
                    <button confirm="Bạn có muốn hoàn thành chẩn đoán?" name="btn_hoan_thanh_chan_doan" string="Hoàn thành" type="object" class="oe_highlight" />
                    <button name="in_chan_doan_hinh_anh" string="In" type="object" class="oe_highlight" />
                    <field name="state" widget="statusbar" statusbar_visible="DuThao,DaXuatHoaDon,DangThucHien,HoanThanh" />
                </header>
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title" style="width: 390px;">
                            <label class="oe_edit_only" for="name" />
                            <h1>
                                <field name="name" class="oe_inline" />
                            </h1>
                        </div>
                        <div class="oe_left" style="width: 500px;">
                            <label for="loai_chan_doan" />
                            <field name="loai_chan_doan" readonly="0" help="Loại chẩn đoán hình ảnh" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="identification_code" />
                            <field name="benh_nhan_id" required="1" options="{'no_create': True}" />
                            <field name="ngay_yeu_cau" />
                            <field name="ngay_sinh" />
                            <field name="gioi_tinh" />
                        </group>
                        <group>
                            <field name="bac_si_id" options="{'no_create': True}" />
                            <field name="khoa_id" required="1" />
                            <field name="ngay_phan_tich" />
                            <field name="phieu_kham_benh_id" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Vật tư tiêu hao">
                            <field name="vat_tu_tieu_hao_ids" nolabel="1" readonly="state == 'HoanThanh'" context="{'default_chan_doan_hinh_anh_id': active_id}">
                                <tree string="Vật tư tiêu hao" editable="bottom">
                                    <field name="ma_thu_tu" />
                                    <field name="san_pham" />
                                    <field name="so_luong" />
                                    <field name="don_vi" />
                                </tree>
                            </field>
                        </page>
                        <page string="Images">
                            <group>
                                <group>
                                    <field name="anh_1" widget="image" readonly="state == 'HoanThanh'" />
                                    <field name="anh_2" widget="image" readonly="state == 'HoanThanh'" />
                                    <field name="anh_3" widget="image" readonly="state == 'HoanThanh'" />
                                </group>
                                <group>
                                    <field name="anh_4" widget="image" readonly="state == 'HoanThanh'" />
                                    <field name="anh_5" widget="image" readonly="state == 'HoanThanh'" />
                                    <field name="anh_6" widget="image" readonly="state == 'HoanThanh'" />
                                </group>
                            </group>
                        </page>
                        <page string="Thông tin">
                            <group>
                                <field name="phan_tich" readonly="state != 'DangThucHien'" />
                            </group>
                            <group>
                                <field name="ket_luan" readonly="state != 'DangThucHien'" />
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Diagnostic imaging search view -->
    <record id="diagnostic_imaging_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm chẩn đoán hình ảnh</field>
        <field name="model">medical.chan_doan_hinh_anh</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <filter string="Trạng thái đã xuất hoá đơn" name="trang_thai_filter" domain="[('state','=','DaXuatHoaDon')]" />
                <group expand="1" string="Nhóm theo">
                    <filter string="Bệnh nhân" name="group_by_benh_nhan_id" context="{'group_by': 'benh_nhan_id'}" />
                    <filter string="Bác sĩ" name="group_by_bac_si_id" context="{'group_by': 'bac_si_id'}" />
                    <filter string="Loại chẩn đoán" name="group_by_loai_chan_doan" context="{'group_by': 'loai_chan_doan'}" />
                    <filter string="Trạng thái" name="group_by_state" context="{'group_by': 'state'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- diagnostic_imaging tree view -->
    <record id="medical_diagnostic_imaging_view_tree" model="ir.ui.view">
        <field name="name">medical.diagnostic_imaging.view.tree</field>
        <field name="model">medical.chan_doan_hinh_anh</field>
        <field name="arch" type="xml">
            <tree string="Danh sách chẩn đoán hình ảnh">
                <field name="name"></field>
                <field name="loai_chan_doan"></field>
                <field name="benh_nhan_id"></field>
                <field name="bac_si_id"></field>
                <field name="ngay_yeu_cau"></field>
                <field name="ngay_phan_tich"></field>
                <field name="phieu_kham_benh_id"></field>
                <field name="state"></field>
            </tree>
        </field>
    </record>
    <record id="medical_diagnostic_imaging_action" model="ir.actions.act_window">
        <field name="name">Chẩn đoán hình ảnh</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.chan_doan_hinh_anh</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_trang_thai_filter': 1}</field>
    </record>

    <!-- material_consumption tree view -->
    <record id="medical_material_consumption_view_tree" model="ir.ui.view">
        <field name="name">medical.material_consumption.view.tree</field>
        <field name="model">medical.vat_tu_tieu_hao</field>
        <field name="arch" type="xml">
            <tree>
                <field name="ma_thu_tu"></field>
                <field name="san_pham"></field>
                <field name="so_luong"></field>
                <field name="don_vi"></field>
            </tree>
        </field>
    </record>
    <record id="medical_material_consumption_action" model="ir.actions.act_window">
        <field name="name">Vặt tư tiêu hao</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.vat_tu_tieu_hao</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- medical.examination_time tree view -->
    <record id="medical_examination_time_view_tree" model="ir.ui.view">
        <field name="name">medical.examination_time.view.tree</field>
        <field name="model">medical.examination_time</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name" widget="float_time"></field>
                <field name="time"></field>
                <field name="description"></field>
                <field name="state"></field>
            </tree>
        </field>
    </record>
    <record id="medical_examination_time_action" model="ir.actions.act_window">
        <field name="name">Thời gian khám bệnh</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.examination_time</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- medical.shift tree view -->
    <record id="medical_shift_view_tree" model="ir.ui.view">
        <field name="name">medical.shift.view.tree</field>
        <field name="model">medical.shift</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name" widget="selection_badge"></field>
                <field name="description"></field>
                <field name="time_ids" widget="many2many_tags"></field>
            </tree>
        </field>
    </record>
    <record id="medical_shift_action" model="ir.actions.act_window">
        <field name="name">Ca làm việc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.shift</field>
        <field name="view_mode">tree</field>
    </record>


    <!-- Dashboard kanban view -->
    <record id="medical_specialty_dashboard_kanban_view" model="ir.ui.view">
        <field name="name">medical.specialty_dashboard.kanban</field>
        <field name="model">medical.khoa</field>
        <field name="arch" type="xml">
            <kanban create="false" class="oe_background_grey o_kanban_dashboard o_account_kanban">
                <field name="id" invisible="True" />
                <field name="name" />
                <field name="trung_tam_suc_khoe_id" />
                <field name="yeu_thich" />
                <!-- <field name="type"/>
                <field name="show_on_dashboard"/>
                <field name="kanban_dashboard"/> -->
                <templates>
                    <t t-name="kanban-box" style="min-width: 512px !important">
                        <div t-attf-class="#{kanban_color(0)}">
                            <!-- <t t-value="JSON.parse(record.kanban_dashboard.raw_value)" t-set="dashboard"/> -->
                            <t t-call="OehTop" />
                            <div class="o_kanban_card_content o_invisible" style="width:100%">
                                <div class="row">
                                    <t t-call="OehBodyDepartment" />
                                </div>
                            </div>
                            <div class="o_kanban_card_manage_pane o_invisible" style="width:100%">
                                <t t-call="OehManage" />
                            </div>
                            <!-- <t t-call="OehBodyGraph"/> -->
                        </div>
                    </t>
                    <t t-name="OehTop">
                        <div class="o_kanban_card_header">
                            <div class="o_kanban_card_header_title">
                                <div class="o_primary">
                                    <a>
                                        <field name="name" />
                                    </a>
                                </div>
                                <div class="o_secondary">
                                    <field name="trung_tam_suc_khoe_id" />
                                </div>
                            </div>
                            <!-- <div class="o_kanban_manage_button_section">
                                <a class="o_kanban_manage_toggle_button" href="#">More <i class="fa fa-caret-down"/></a>
                            </div> -->
                        </div>
                    </t>
                    <t t-name="OehBodyDepartment">
                        <div class="o_kanban_primary_left" style="display: flex; justify-content: space-between; margin-top: 12px;">
                            <button type="object" name="action_tao_phieu_kham_benh_moi" class="btn btn-primary btn-sm o_invoice_new btn-new-action" style="padding: 8px;">
                                <span>Phiếu khám bệnh mới</span>
                            </button>
                            <button type="object" name="action_tao_chan_doan_hinh_anh_moi" class="btn btn-primary btn-sm o_invoice_new btn-new-action" style="padding: 8px;">
                                <span>Chẩn đoán hình ảnh mới</span>
                            </button>
                        </div>
                        <div class="so_luong_text_wrap">
                            <a type="object" name="btn_so_luong_bac_si" context="{}">
                                <div class="so_luong_text"> Bác sĩ <span class="so_luong_icon">
                                    <span>
                                        <field name="bac_si_count" />
                                    </span>
                                </span>
                            </div>
                        </a>
                    </div>
                    <div class="so_luong_text_wrap">
                        <a type="object" name="btn_so_luong_phieu_kham_benh" context="{}">
                            <div class="so_luong_text"> Phiếu khám bệnh <span class="so_luong_icon">
                                <span>
                                    <field name="phieu_kham_benh_count" />
                                </span>
                            </span>
                        </div>
                    </a>
                </div>
                <div class="so_luong_text_wrap">
                    <a type="object" name="btn_so_luong_chan_doan_hinh_anh" context="{}">
                        <div class="so_luong_text"> Chẩn đoán hình ảnh <span class="so_luong_icon">
                            <span>
                                <field name="chan_doan_hinh_anh_count" />
                            </span>
                        </span>
                    </div>
                </a>
            </div>
            <div class="so_luong_text_wrap">
                <a type="object" name="btn_so_luong_don_thuoc" context="{}">
                    <div class="so_luong_text"> Đơn thuốc <span class="so_luong_icon">
                        <span>
                            <field name="don_thuoc_count" />
                        </span>
                    </span>
                </div>
            </a>
        </div>
    </t>
    <t t-name="OehManage">
        <div class="row o_kanban_card_settings" style="margin-left: -16px; margin-right: -16px">
            <div class="col-6" style="text-align: center">
                <a type="object" name="toggle_favorite">
                    <i t-attf-class="fa o_dashboard_star #{record.yeu_thich.raw_value ? 'fa-star' : 'fa-star-o'}" title="Nhấn để thêm/xoá yêu thích" />
 Yêu thích</a>
            </div>
            <div class="col-6" style="text-align: center">
                <a t-if="widget.editable" type="edit">
                    <i t-attf-class="fa o_dashboard_star fa-gear" title="Nhấn để thêm/xoá yêu thích" />
 Thiết lập</a>
            </div>
        </div>
    </t>
</templates>
</kanban>
</field>
</record>
<!-- Medical specialty dashboard action -->
<record id="medical_specialty_dashboard_action" model="ir.actions.act_window">
<field name="name">Bảng thông tin</field>
<field name="type">ir.actions.act_window</field>
<field name="res_model">medical.khoa</field>
<field name="view_mode">kanban,form</field>
<field name="context">{'search_default_favorite_filter': 1}</field>
</record>



</odoo>