<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--===== Configuration =====  -->
    <!-- Health center -->
    <record id="morden_action_medical_department_health_center" model="ir.actions.act_window">
        <field name="name">Danh sách khoa</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.department</field>
        <field name="domain">[('health_center_id', '=', active_id)]</field>
    </record>
    <record id="morden_action_medical_clinic_health_center" model="ir.actions.act_window">
        <field name="name">Danh sách phòng</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.clinic</field>
        <field name="domain">[('health_center_id', '=', active_id)]</field>
    </record>
    <!-- Health center form view-->
    <record id="medical_health_center_view_form" model="ir.ui.view">
        <field name="name">medical.health_center.form</field>
        <field name="model">medical.health_center</field>
        <field name="arch" type="xml">
            <form string="Trung tâm y tế">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button type="action" class="oe_stat_button"
                            name="%(DatLichKhamBenh.morden_action_medical_department_health_center)d"
                            icon="fa-building-o" context="{'default_health_center_id': active_id}">
                            <field string="Khoa" name="department_count" widget="statinfo" />
                        </button>
                        <button type="action" class="oe_stat_button"
                            name="%(DatLichKhamBenh.morden_action_medical_clinic_health_center)d"
                            icon="fa-building-o" context="{'default_health_center_id': active_id}">
                            <field string="Phòng" name="clinic_count_t" widget="statinfo" />
                        </button>
                    </div>
                    <field name="image" nolabel="1" widget="image" class="oe_avatar" />
                    <div class="oe_title">
                        <label for="name" />
                        <h1>
                            <field name="name" required="1" />
                        </h1>
                        <div class="o_row">
                            <field name="parent_id" placeholder="Cha" />
                            <label for="is_headquarter" />
                            <field name="is_headquarter" readonly="1" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <label for="street" string="Địa chỉ" />
                            <div>
                                <field name="street" placeholder="Street..." on_change="1"
                                    field_id="street_0" />
                                <field name="street2" on_change="1" field_id="street2_0" />
                                <field name="country_id_new" placeholder="Quốc gia"
                                    class="oe_no_button"
                                    options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"
                                    on_change="1" can_create="True" can_write="True"
                                    field_id="country_id_0" />
                                <div class="address_format">
                                    <field name="state_id_new" class="oe_no_button"
                                        placeholder="Tỉnh/Thành phố "
                                        required='country_id_new != False' style="width: 37%"
                                        options="{&quot;no_open&quot;: True}"
                                        on_change="onchange_state(state_id)" can_create="True"
                                        can_write="True" field_id="state_id_0" />
                                    <field name="city" placeholder="Thành phố" style="width: 40%"
                                        field_id="city_0" />
                                    <field name="zip" placeholder="Mã bưu điện" style="width: 20%"
                                        field_id="zip_0" />
                                </div>
                            </div>
                            <field name="website_link" widget="url" placeholder="e.g. www.odoo.com"
                                field_id="website_0" />
                        </group>
                        <group>
                            <field name="phone_number" placeholder="e.g. +84 012345678"
                                on_change="1" field_id="phone_0" />
                            <field name="email" widget="email" on_change="1" field_id="email_0" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Thông tin bổ sung">
                            <div class="o_row">
                                <field name="extra_infor" />
                            </div>
                        </page>
                        <page string="Kho hàng">

                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Search Health center -->
    <record id="health_center_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm trung tâm y tế</field>
        <field name="model">medical.health_center</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <filter string="Tên" name="country_filter" />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên" name="group_by_name" context="{'group_by': 'name'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Health center kanban view-->
    <record id="medical_health_center_kanban_view" model="ir.ui.view">
        <field name="name">medical.health_center.kanban</field>
        <field name="model">medical.health_center</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name" />
                <field name="image" />
                <field name="country_id_new" />
                <field name="city" />
                <field name="email" />
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click oe_kanban_card">
                            <div class="oeh_medical_vignette oe_semantic_html_override">
                                <div class="o_kanban_image" style="margin-top:15px;">
                                    <a type="open">
                                        <img widget="image" heigh="100" width="100"
                                            t-att-alt="record.id.value"
                                            t-att-src="kanban_image('medical.health_center', 'image', record.id.raw_value)" />
                                    </a>
                                </div>
                                <div class="oe_kanban_details">
                                    <h4>
                                        <a type="open">
                                            <field name="name" />
                                        </a>
                                    </h4>
                                    <ul>
                                        <li>
                                            <field name="city" /> , <field name="country_id_new" />
                                        </li>
                                        <li>
                                            <field name="email" />
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <!-- Health center tree view-->
    <record id="medical_health_center_tree_view" model="ir.ui.view">
        <field name="name">medical.health_center.tree</field>
        <field name="model">medical.health_center</field>
        <field name="arch" type="xml">
            <tree string="Thông tin bệnh nhân">
                <field name="name" />
                <field name="street" string="Đường" />
                <field name="city" />
                <field name="state_id_new" />
                <field name="country_id_new" />
                <field name="website_link" />
            </tree>
        </field>
    </record>
    <!-- Health center action-->
    <record id="medical_health_center_action" model="ir.actions.act_window">
        <field name="name">Trung tâm y tế</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.health_center</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>


    <record id="morden_action_medical_clinic" model="ir.actions.act_window">
        <field name="name">Danh sách Phòng</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.clinic</field>
        <field name="domain">[('department_id', '=', active_id)]</field>
    </record>
    <!-- Medical Department form view-->
    <record id="medical_department_view_form" model="ir.ui.view">
        <field name="name">medical.department.form</field>
        <field name="model">medical.department</field>
        <field name="arch" type="xml">
            <form string="Khoa">
                <header>
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button type="action" class="oe_stat_button"
                            name="%(DatLichKhamBenh.morden_action_medical_clinic)d"
                            icon="fa-list-ul">
                            <field string="Phòng" name="clinic_count" widget="statinfo" />
                        </button>
                    </div>
                    <field name="image" nolabel="1" widget="image" class="oe_avatar" />
                    <div class="oe_title">
                        <label for="name" />
                        <h1>
                            <field name="name" required="1" colspan="3" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="health_center_id" options="{'no_create': True}"
                                required="1" />
                            <field name="floor_number" default="0" />
                            <field name="type" />
                        </group>
                        <group>
                        </group>
                    </group>
                    <separator string="Cơ sở vật chất" colspan="4" />
                    <group>
                        <group>
                            <field name="telephone_access" />
                            <field name="private_bathroom" />
                            <field name="television" />
                            <field name="refrigerator" />
                        </group>
                        <group>
                            <field name="air_conditioning" />
                            <field name="guest_sofa_bed" />
                            <field name="internet_access" />
                            <field name="cicrowave" />
                        </group>
                    </group>
                    <separator string="Thông tin bổ sung" colspan="4" />
                    <div class="o_row">
                        <field name="extra_infor" widget="html" />
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Medical Department search view -->
    <record id="department_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm khoa</field>
        <field name="model">medical.department</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <filter string="Tên" name="country_filter" />
                <filter string="Yêu thích" name="favorite_filter" domain="[('favorite','=',True)]" />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên" name="group_by_name" context="{'group_by': 'name'}" />
                    <filter string="Trung tâm y tế" name="group_by_health_center"
                        context="{'group_by': 'health_center_id'}" />
                    <filter string="Số tầng" name="group_by_floor_number"
                        context="{'group_by': 'floor_number'}" />
                    <filter string="Trạng thái" name="group_by_state"
                        context="{'group_by': 'state'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Medical Department tree view-->
    <record id="medical_department_tree_view" model="ir.ui.view">
        <field name="name">medical.department.tree</field>
        <field name="model">medical.department</field>
        <field name="arch" type="xml">
            <tree string="Khoa">
                <field name="name" />
                <field name="health_center_id" />
                <field name="floor_number" />
                <field name="type" />
            </tree>
        </field>
    </record>
    <!-- Medical department action-->
    <record id="medical_department_action" model="ir.actions.act_window">
        <field name="name">Khoa</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.department</field>
        <field name="view_mode">tree,form</field>
    </record>


    <!-- Clinic form view-->
    <record id="medical_clinic_view_form" model="ir.ui.view">
        <field name="name">medical.clinic.form</field>
        <field name="model">medical.clinic</field>
        <field name="arch" type="xml">
            <form string="Phòng">
                <header>
                    <button name="btn_room_available"
                        confirm='Bạn có muốn thay đổi trạng thái của phòng thành "Trống"?'
                        string="Trống" type="object" class="oe_highlight"
                        invisible="state == 'room_available'" />
                    <button name="btn_not_available" string="Không có sẵn"
                        confirm='Bạn có muốn thay đổi trạng thái của phòng thành "Không có sẵn"?'
                        type="object" class="oe_highlight" invisible="state == 'not_available'" />
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <div class="oe_title">
                        <label for="name" />
                        <h1>
                            <field name="name" required="1" colspan="3" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="health_center_id" required="1"
                                options="{'no_create': True}" />
                        </group>
                        <group>
                            <field name="department_id" required="1" options="{'no_create': True}" />
                        </group>
                    </group>
                    <separator string="Thông tin bổ sung" colspan="4" />
                    <div class="o_row">
                        <field name="extra_infor" />
                    </div>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Clinic Search view -->
    <record id="clinic_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm phòng</field>
        <field name="model">medical.clinic</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên" name="group_by_name" context="{'group_by': 'name'}" />
                    <filter string="Trạng thái" name="group_by_state"
                        context="{'group_by': 'state'}" />
                </group>
            </search>
        </field>
    </record>
    <record id="medical_clinic_tree_view" model="ir.ui.view">
        <field name="name">medical.clinic.tree</field>
        <field name="model">medical.clinic</field>
        <field name="arch" type="xml">
            <tree string="Phòng">
                <field name="name" />
                <field name="health_center_id" />
                <field name="department_id" />
                <field name="state" />
            </tree>
        </field>
    </record>
    <!-- Clinic action-->
    <record id="medical_clinic_action" model="ir.actions.act_window">
        <field name="name">Phòng</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.clinic</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Pharmacies form view-->
    <record id="medical_pharmacies_view_form" model="ir.ui.view">
        <field name="name">medical.pharmacies.form</field>
        <field name="model">medical.pharmacies</field>
        <field name="arch" type="xml">
            <form string="Hiệu thuốc">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <field name="image" nolabel="1" widget="image" class="oe_avatar" />
                        <div class="oe_title">
                            <label for="name" />
                            <h1>
                                <field name="name" required="1" />
                            </h1>
                            <field name="health_center_id" placeholder="Trung tâm y tế" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <label for="street" string="Địa chỉ" />
                            <div>
                                <field name="street" placeholder="Street..." on_change="1"
                                    field_id="street_0" />
                                <field name="street2" on_change="1" field_id="street2_0" />
                                <field name="country_id_new" placeholder="Quốc gia"
                                    class="oe_no_button"
                                    options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"
                                    on_change="1" can_create="True" can_write="True"
                                    field_id="country_id_0" />
                                <div class="address_format">
                                    <field name="state_id_new" class="oe_no_button"
                                        placeholder="Tỉnh/Thành phố "
                                        required='country_id_new != False' style="width: 37%"
                                        options="{&quot;no_open&quot;: True}"
                                        on_change="onchange_state(state_id)" can_create="True"
                                        can_write="True" field_id="state_id_0" />
                                    <field name="city" placeholder="Thành phố" style="width: 40%"
                                        field_id="city_0" />
                                    <field name="zip" placeholder="Mã bưu điện" style="width: 20%"
                                        field_id="zip_0" />
                                </div>
                            </div>
                            <field name="website_link" widget="url" placeholder="e.g. www.odoo.com"
                                field_id="website_0" />
                        </group>
                        <group>
                            <field name="phone_number" placeholder="e.g. +84 012345678"
                                on_change="1" field_id="phone_0" />
                            <field name="email" widget="email" on_change="1" field_id="email_0" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Thông tin bổ sung">
                            <div class="o_row">
                                <field name="extra_infor" />
                            </div>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Pharmacies Search view -->
    <record id="pharmacies_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm hiệu thuốc</field>
        <field name="model">medical.pharmacies</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <group expand="1" string="Nhóm theo">
                    <filter string="Tên hiệu thuốc" name="group_by_name"
                        context="{'group_by': 'name'}" />
                    <filter string="Trung tâm y tế" name="group_by_health_center"
                        context="{'group_by': 'health_center_id'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Pharmacies kanban view-->
    <record id="medical_pharmacies_kanban_view" model="ir.ui.view">
        <field name="name">medical.pharmacies.kanban</field>
        <field name="model">medical.pharmacies</field>
        <field name="arch" type="xml">
            <kanban>
                <field name="name" />
                <field name="health_center_id" />
                <field name="country_id_new" />
                <field name="city" />
                <field name="email" />
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click oe_kanban_card">
                            <div class="oeh_medical_vignette oe_semantic_html_override">
                                <div class="o_kanban_image" style="margin-top:15px;">
                                    <a type="open">
                                        <img widget="image" heigh="100" width="100"
                                            t-att-alt="record.id.value"
                                            t-att-src="kanban_image('medical.pharmacies', 'image', record.id.raw_value)" />
                                    </a>
                                </div>
                                <div class="oe_kanban_details">
                                    <h4>
                                        <a type="open">
                                            <field name="name" />
                                        </a>
                                    </h4>
                                    <ul>
                                        <li>
                                            <field name="city" /> , <field name="country_id_new" />
                                        </li>
                                        <li>
                                            <field name="email" />
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <!-- Pharmacies tree view -->
    <record id="medical_pharmacies_tree_view" model="ir.ui.view">
        <field name="name">medical.pharmacies.tree</field>
        <field name="model">medical.pharmacies</field>
        <field name="arch" type="xml">
            <tree string="Hiệu thuốc">
                <field name="name" />
                <field name="health_center_id" />
                <field name="street" />
                <field name="city" />
                <field name="state_id_new" />
                <field name="country_id_new" />
                <field name="website_link" />
            </tree>
        </field>
    </record>
    <!--Ppharmacies
    action-->
    <record id="medical_pharmacies_action" model="ir.actions.act_window">
        <field name="name">Hiệu thuốc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.pharmacies</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

    <!-- Speciality tree view -->
    <record id="medical_speciality_view_tree" model="ir.ui.view">
        <field name="name">medical.speciality.view.tree</field>
        <field name="model">medical.speciality</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="code"></field>
            </tree>
        </field>
    </record>
    <record id="medical_speciality_action" model="ir.actions.act_window">
        <field name="name">Chuyên môn</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.speciality</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Degree tree view -->
    <record id="medical_degree_view_tree" model="ir.ui.view">
        <field name="name">medical.degree.view.tree</field>
        <field name="model">medical.degree</field>
        <field name="arch" type="xml">
            <tree string="Degrees" editable="top">
                <field name="name"></field>
                <field name="full_name"></field>
            </tree>
        </field>
    </record>
    <record id="medical_degree_action" model="ir.actions.act_window">
        <field name="name">Trình độ/Bằng cấp</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.degree</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Medicine, Vaccine form view-->
    <record id="medical_medicine_vaccine_view_form" model="ir.ui.view">
        <field name="name">medical.medicine_vaccine.form</field>
        <field name="model">medical.medicine_vaccine</field>
        <field name="arch" type="xml">
            <form string="Medicines">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title" style="width: 390px;">
                            <label class="oe_edit_only" for="name" string="Tên thuốc" />
                            <h1>
                                <field name="name" class="oe_inline" />
                            </h1>
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="type_of_medicine" widget="selection_badge" required="1" />
                            <field name="therapeutic_effect"
                                invisible="type_of_medicine  == 'medicine'" />
                            <field name="quantity_on_hand"
                                invisible="type_of_medicine  == 'medicine'" />
                        </group>
                        <group>
                            <field name="sale_price" />
                            <field name="pregnancy_warning"
                                invisible="type_of_medicine  == 'medicine'" />
                        </group>
                    </group>
                    <group invisible="type_of_medicine  == 'vaccine'">
                        <group>
                            <field name="pregnancy_and_lactancy" />
                            <field name="composition" />
                            <field name="dosage_instructions" />
                            <field name="adverse_reactions" />
                        </group>
                        <group>

                            <field name="indication" />
                            <field name="overdosage" />
                            <field name="storage_conditions" />
                            <field name="extra_infor" />
                        </group>
                    </group>
                    <group invisible="type_of_medicine == 'medicine'">
                        <field name="extra_infor" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Medicine, Vaccine search view -->
    <record id="medicine_vaccine_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm thuốc, vắc xin</field>
        <field name="model">medical.medicine_vaccine</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <group expand="1" string="Nhóm theo">
                    <filter string="Loại thuốc" name="group_by_type_of_medicine"
                        context="{'group_by': 'type_of_medicine'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- Medicine, Vaccine tree view -->
    <record id="medical_medicine_vaccine_tree_view" model="ir.ui.view">
        <field name="name">medical.medicine_vaccinee.tree</field>
        <field name="model">medical.medicine_vaccine</field>
        <field name="arch" type="xml">
            <tree string="Thuốc, Vắc xin">
                <field name="name" />
                <field name="type_of_medicine" />
                <field name="sale_price" />
                <field name="extra_infor" />
            </tree>
        </field>
    </record>
    <!-- Medicine, Vaccine action-->
    <record id="medical_medicine_vaccine_action" model="ir.actions.act_window">
        <field name="name">Thuốc, Vắc xin</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.medicine_vaccine</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Dose units tree view -->
    <record id="medical_dose_units_view_tree" model="ir.ui.view">
        <field name="name">medical.dose_units.view.tree</field>
        <field name="model">medical.dose_units</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="description"></field>
            </tree>
        </field>
    </record>
    <record id="medical_dose_units_action" model="ir.actions.act_window">
        <field name="name">Đơn vị liều thuốc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.dose_units</field>
        <field name="view_mode">tree</field>
    </record>
    <!-- Medicines dosage tree view -->
    <record id="medical_medicines_dosage_view_tree" model="ir.ui.view">
        <field name="name">medical.medicines_dosage.view.tree</field>
        <field name="model">medical.medicines_dosage</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="code"></field>
                <field name="abbreviation"></field>
            </tree>
        </field>
    </record>
    <record id="medical_medicines_dosage_action" model="ir.actions.act_window">
        <field name="name">Liều thuốc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.medicines_dosage</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Vaccine form view -->
    <record id="medical_vaccine_view_form" model="ir.ui.view">
        <field name="name">medical.vaccine.form</field>
        <field name="model">medical.vaccine</field>
        <field name="arch" type="xml">
            <form string="Vaccin">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title">
                            <label for="name" string="Vaccine" class="oe_edit_only" />
                            <h1>
                                <field name="name" />
                            </h1>
                            <label for="patient_id" class="oe_edit_only" />
                            <field name="patient_id" on_change="" required="1" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="dose" />
                            <field name="date" />
                        </group>
                        <group>
                            <field name="doctor_id" options="{'no_create': True}" />
                            <field name="health_center_id" options="{'no_create': True}" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Quan sát/Theo dõi">
                            <div class="o_row">
                                <field name="observation" nolabel="1" />
                            </div>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- medical.vaccine tree view -->
    <record id="medical_vaccine_view_tree" model="ir.ui.view">
        <field name="name">medical.vaccine.view.tree</field>
        <field name="model">medical.vaccine</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"></field>
                <field name="patient_id"></field>
                <field name="dose"></field>
                <field name="doctor_id"></field>
                <field name="date"></field>
                <field name="health_center_id"></field>
            </tree>
        </field>
    </record>
    <!-- medical.vaccine action -->
    <record id="medical_vaccine_action" model="ir.actions.act_window">
        <field name="name">Vắc xin</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.vaccine</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('patient_id', '!=', '')]</field>
    </record>


    <!-- Lab units tree view -->
    <record id="medical_lab_units_view_tree" model="ir.ui.view">
        <field name="name">medical.lab_units.view.tree</field>
        <field name="model">medical.lab_units</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name"></field>
                <field name="code"></field>
            </tree>
        </field>
    </record>
    <record id="medical_lab_units_action" model="ir.actions.act_window">
        <field name="name">Đơn vị xét nghiệm</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.lab_units</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- Lab test types form view -->
    <record id="medical_lab_test_types_view_form" model="ir.ui.view">
        <field name="name">medical.lab_test_types.form</field>
        <field name="model">medical.lab_test_types</field>
        <field name="arch" type="xml">
            <form string="Loại xét nghiệm">
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title" style="width: 390px;">
                            <label class="oe_edit_only" for="name" />
                            <h1>
                                <field name="name" class="oe_inline" />
                            </h1>
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="code" required="1" />
                        </group>
                        <group>
                            <field name="test_charge" required="1" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Trường hợp xét nghiệm">
                            <div>
                                <field name="lab_test_case_ids" nolabel="1"
                                    context="{'default_lab_test_types_id': active_id}">
                                    <tree string="Trường hợp xét nghiệm" editable="bottom">
                                        <field name="sequence" required="1" />
                                        <field name="name" />
                                        <field name="normal_range" />
                                        <field name="units" />
                                    </tree>
                                </field>
                            </div>
                        </page>
                        <page string="Thông tin thêm">
                            <group>
                                <field name="extra_infor" nolabel="1" />
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Lab test types tree view -->
    <record id="medical_lab_test_types_view_tree" model="ir.ui.view">
        <field name="name">medical.lab_test_types.view.tree</field>
        <field name="model">medical.lab_test_types</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"></field>
                <field name="code"></field>
                <field name="test_charge"></field>
            </tree>
        </field>
    </record>
    <record id="medical_lab_test_types_action" model="ir.actions.act_window">
        <field name="name">Loại xét nghiệm</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.lab_test_types</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Imaging test types tree view -->
    <record id="medical_diagnostic_imaging_types_view_tree" model="ir.ui.view">
        <field name="name">medical.diagnostic_imaging_types.view.tree</field>
        <field name="model">medical.diagnostic_imaging_types</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"></field>
                <field name="code"></field>
                <field name="test_charge"></field>
            </tree>
        </field>
    </record>
    <record id="medical_diagnostic_imaging_types_action" model="ir.actions.act_window">
        <field name="name">Loại chẩn đoán hình ảnh</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.diagnostic_imaging_types</field>
        <field name="view_mode">tree,form</field>
    </record>


    <!-- diagnostic imaging form view -->
    <record id="medical_diagnostic_imaging_view_form" model="ir.ui.view">
        <field name="name">medical.diagnostic_imaging.form</field>
        <field name="model">medical.diagnostic_imaging</field>
        <field name="arch" type="xml">
            <form string="Chẩn đoán hình ảnh">
                <header>
                    <button confirm="Bạn có muốn tạo hóa đơn?" name="btn_invoiced"
                        string="Tạo hoá đơn" type="object" class="oe_highlight" />
                    <button confirm="Bạn có muốn bắt đầu chẩn đoán?" name="btn_test_in_profgress"
                        string="Bắt đầu" type="object" class="oe_highlight" />
                    <button confirm="Bạn có muốn hoàn thành chẩn đoán?" name="btn_completed"
                        string="Hoàn thành" type="object" class="oe_highlight" />
                    <button name="in_diagnostic_imaging" string="In" type="object"
                        class="oe_highlight" />
                    <field name="state" widget="statusbar"
                        statusbar_visible="draft,invoiced,test_in_profgress,completed" />
                </header>
                <sheet>
                    <div class="oe_left" style="width: 500px;">
                        <div class="oe_title" style="width: 390px;">
                            <label class="oe_edit_only" for="name" />
                            <h1>
                                <field name="name" class="oe_inline" />
                            </h1>
                        </div>
                        <div class="oe_left" style="width: 500px;">
                            <label for="diagnostic_imaging_types_id" />
                            <field name="diagnostic_imaging_types_id" readonly="0"
                                help="Loại chẩn đoán hình ảnh" />
                        </div>
                    </div>
                    <group>
                        <group>
                            <field name="identification_code" />
                            <field name="patient_id" required="1" options="{'no_create': True}" />
                            <field name="date_requested" />
                            <field name="date_of_birth" />
                            <field name="sex" />
                        </group>
                        <group>
                            <field name="doctor_id" options="{'no_create': True}" />
                            <field name="department_id" required="1" />
                            <field name="date_of_the_anlysis" />
                            <field name="walkins_id" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Vật tư tiêu hao">
                            <field name="material_consumption_ids" nolabel="1"
                                readonly="state == 'completed'"
                                context="{'default_diagnostic_imaging_id': active_id}">
                                <tree string="Vật tư tiêu hao" editable="bottom">
                                    <field name="sequence" />
                                    <field name="name" />
                                    <field name="quantity" />
                                    <field name="units" />
                                </tree>
                            </field>
                        </page>
                        <page string="Images">
                            <group>
                                <group>
                                    <field name="image_1" widget="image"
                                        readonly="state == 'completed'" />
                                    <field name="image_2" widget="image"
                                        readonly="state == 'completed'" />
                                    <field name="image_3" widget="image"
                                        readonly="state == 'completed'" />
                                </group>
                                <group>
                                    <field name="image_4" widget="image"
                                        readonly="state == 'completed'" />
                                    <field name="image_5" widget="image"
                                        readonly="state == 'completed'" />
                                    <field name="image_6" widget="image"
                                        readonly="state == 'completed'" />
                                </group>
                            </group>
                        </page>
                        <page string="Thông tin">
                            <group>
                                <field name="analysis" readonly="state != 'test_in_profgress'" />
                            </group>
                            <group>
                                <field name="conclusion" readonly="state != 'test_in_profgress'" />
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Diagnostic imaging search view -->
    <record id="diagnostic_imaging_search_view" model="ir.ui.view">
        <field name="name">Tìm kiếm chẩn đoán hình ảnh</field>
        <field name="model">medical.diagnostic_imaging</field>
        <field name="arch" type="xml">
            <search string="">
                <separator />
                <filter string="Trạng thái đã xuất hoá đơn" name="state_filter"
                    domain="[('state','=','invoiced')]" />
                <group expand="1" string="Nhóm theo">
                    <filter string="Bệnh nhân" name="group_by_patient"
                        context="{'group_by': 'patient_id'}" />
                    <filter string="Bác sĩ" name="group_by_doctor"
                        context="{'group_by': 'doctor_id'}" />
                    <filter string="Loại chẩn đoán" name="group_by_diagnostic_imaging_types"
                        context="{'group_by': 'diagnostic_imaging_types_id'}" />
                    <filter string="Trạng thái" name="group_by_state"
                        context="{'group_by': 'state'}" />
                </group>
            </search>
        </field>
    </record>
    <!-- diagnostic_imaging tree view -->
    <record id="medical_diagnostic_imaging_view_tree" model="ir.ui.view">
        <field name="name">medical.diagnostic_imaging.view.tree</field>
        <field name="model">medical.diagnostic_imaging</field>
        <field name="arch" type="xml">
            <tree string="Danh sách chẩn đoán hình ảnh">
                <field name="name"></field>
                <field name="diagnostic_imaging_types_id"></field>
                <field name="patient_id"></field>
                <field name="doctor_id"></field>
                <field name="date_requested"></field>
                <field name="date_of_the_anlysis"></field>
                <field name="walkins_id"></field>
                <field name="state"></field>
            </tree>
        </field>
    </record>
    <record id="medical_diagnostic_imaging_action" model="ir.actions.act_window">
        <field name="name">Chẩn đoán hình ảnh</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.diagnostic_imaging</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_state_filter': 1}</field>
    </record>

    <!-- material_consumption tree view -->
    <record id="medical_material_consumption_view_tree" model="ir.ui.view">
        <field name="name">medical.material_consumption.view.tree</field>
        <field name="model">medical.material_consumption</field>
        <field name="arch" type="xml">
            <tree>
                <field name="sequence"></field>
                <field name="name"></field>
                <field name="quantity"></field>
                <field name="units"></field>
            </tree>
        </field>
    </record>
    <record id="medical_material_consumption_action" model="ir.actions.act_window">
        <field name="name">Vặt tư tiêu hao</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.material_consumption</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- medical.examination_time tree view -->
    <record id="medical_examination_time_view_tree" model="ir.ui.view">
        <field name="name">medical.examination_time.view.tree</field>
        <field name="model">medical.examination_time</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="name" widget="float_time"></field>
                <field name="time"></field>
                <field name="description"></field>
            </tree>
        </field>
    </record>
    <record id="medical_examination_time_action" model="ir.actions.act_window">
        <field name="name">Thời gian khám bệnh</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.examination_time</field>
        <field name="view_mode">tree</field>
    </record>

    <!-- medical.shift tree view -->
    <record id="medical_shift_view_tree" model="ir.ui.view">
        <field name="name">medical.shift.view.tree</field>
        <field name="model">medical.shift</field>
        <field name="arch" type="xml">
            <tree editable="bottom">
                <field name="name" widget="selection_badge"></field>
                <field name="description"></field>
                <field name="time_ids" widget="many2many_tags"></field>
            </tree>
        </field>
    </record>
    <record id="medical_shift_action" model="ir.actions.act_window">
        <field name="name">Ca làm việc</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.shift</field>
        <field name="view_mode">tree</field>
    </record>


    <!-- Dashboard kanban view -->
    <record id="medical_department_dashboard_kanban_view" model="ir.ui.view">
        <field name="name">medical.department_dashboard.kanban</field>
        <field name="model">medical.department</field>
        <field name="arch" type="xml">
            <kanban create="false" class="oe_background_grey o_kanban_dashboard o_account_kanban">
                <field name="id" invisible="True" />
                <field name="name" />
                <field name="health_center_id" />
                <field name="favorite" />
                <!-- <field name="type"/>
                <field name="show_on_dashboard"/>
                <field name="kanban_dashboard"/> -->
                <templates>
                    <t t-name="kanban-box" style="min-width: 512px !important">
                        <div t-attf-class="#{kanban_color(0)}">
                            <!-- <t t-value="JSON.parse(record.kanban_dashboard.raw_value)"
                            t-set="dashboard"/> -->
                            <t t-call="OehTop" />
                            <div class="o_kanban_card_content o_invisible" style="width:100%">
                                <div class="row">
                                    <t t-call="OehBodyDepartment" />
                                </div>
                            </div>
                            <div class="o_kanban_card_manage_pane o_invisible" style="width:100%">
                                <t t-call="OehManage" />
                            </div>
                            <!-- <t t-call="OehBodyGraph"/> -->
                        </div>
                    </t>
                    <t t-name="OehTop">
                        <div class="o_kanban_card_header">
                            <div class="o_kanban_card_header_title">
                                <div class="o_primary">
                                    <a>
                                        <field name="name" />
                                    </a>
                                </div>
                                <div class="o_secondary">
                                    <field name="health_center_id" />
                                </div>
                            </div>
                            <!-- <div class="o_kanban_manage_button_section">
                                <a class="o_kanban_manage_toggle_button" href="#">More <i class="fa fa-caret-down"/></a>
                            </div> -->
                        </div>
                    </t>
                    <t t-name="OehBodyDepartment">
                        <div class="o_kanban_primary_left"
                            style="display: flex; justify-content: space-between; margin-top: 12px;">
                            <button type="object" name="action_create_walkins"
                                class="btn btn-primary btn-sm o_invoice_new btn-new-action"
                                style="padding: 8px;">
                                <span>Phiếu khám bệnh mới</span>
                            </button>
                            <button type="object" name="action_create_diagnostic_imaging"
                                class="btn btn-primary btn-sm o_invoice_new btn-new-action"
                                style="padding: 8px;">
                                <span>Chẩn đoán hình ảnh mới</span>
                            </button>
                        </div>
                        <div class="so_luong_text_wrap">
                            <a type="object" name="btn_count_doctor" context="{}">
                                <div class="so_luong_text"> Bác sĩ <span class="so_luong_icon">
                                        <span>
                                            <field name="doctor_count" />
                                        </span>
                                    </span>
                                </div>
                            </a>
                        </div>
                        <div class="so_luong_text_wrap">
                            <a type="object" name="btn_count_walkins" context="{}">
                                <div class="so_luong_text"> Phiếu khám bệnh <span
                                        class="so_luong_icon">
                                        <span>
                                            <field name="walkins_count" />
                                        </span>
                                    </span>
                                </div>
                            </a>
                        </div>
                        <div class="so_luong_text_wrap">
                            <a type="object" name="btn_count_diagnostic_imaging" context="{}">
                                <div class="so_luong_text"> Chẩn đoán hình ảnh <span
                                        class="so_luong_icon">
                                        <span>
                                            <field name="diagnostic_imaging_count" />
                                        </span>
                                    </span>
                                </div>
                            </a>
                        </div>
                        <div class="so_luong_text_wrap">
                            <a type="object" name="btn_count_prescription" context="{}">
                                <div class="so_luong_text"> Đơn thuốc <span class="so_luong_icon">
                                        <span>
                                            <field name="prescription_count" />
                                        </span>
                                    </span>
                                </div>
                            </a>
                        </div>
                    </t>
                    <t t-name="OehManage">
                        <div class="row o_kanban_card_settings"
                            style="margin-left: -16px; margin-right: -16px">
                            <div class="col-6" style="text-align: center">
                                <a type="object" name="toggle_favorite">
                                    <i
                                        t-attf-class="fa o_dashboard_star #{record.favorite.raw_value ? 'fa-star' : 'fa-star-o'}"
                                        title="Nhấn để thêm/xoá yêu thích" /> Yêu thích</a>
                            </div>
                            <div class="col-6" style="text-align: center">
                                <a t-if="widget.editable" type="edit">
                                    <i t-attf-class="fa o_dashboard_star fa-gear"
                                        title="Nhấn để thêm/xoá yêu thích" /> Thiết lập</a>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <!-- Medical department dashboard action -->
    <record id="medical_department_dashboard_action" model="ir.actions.act_window">
        <field name="name">Bảng thông tin</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">medical.department</field>
        <field name="view_mode">kanban,form</field>
        <field name="context">{'search_default_favorite_filter': 1}</field>
    </record>


</odoo>